- name: "Use Static Variables"
  steps:
    - name: "Create Variable"
      args: ["--set", "GREETING", "Hello World"]
      return_code: 0
      expected_stdout: ""
      expected_stderr: ""

    - name: "List Variables"
      args: ["--list"]
      return_code: 0
      expected_stdout: "GREETING():\tHello World"
      expected_stderr: ""

    - name: "Get Variable"
      args: ["--get", "GREETING"]
      return_code: 0
      expected_stdout: "GREETING():\tHello World"
      expected_stderr: ""

    - name: "Use Variable"
      args: [ "[[var: GREETING]]" ]
      return_code: 0
      expected_stdout: ""
      expected_stderr: ""
      expected_clipboard: "Hello World"

    - name: "Delete Variable"
      args: ["--delete", "GREETING"]
      return_code: 0
      expected_stdout: "variable 'GREETING' successfully deleted"
      expected_stderr: ""



- name: "Use Variables with Parameters"
  steps:
    - name: "Create Variable"
      args: ["--set", "GREETING(name)", "Hello <<name>>"]
      return_code: 0
      expected_stdout: ""
      expected_stderr: ""

    - name: "List Variables"
      args: ["--list"]
      return_code: 0
      expected_stdout: "GREETING(name):\tHello <<name>>"
      expected_stderr: ""

    - name: "Get Variable"
      args: ["--get", "GREETING"]
      return_code: 0
      expected_stdout: "GREETING(name):\tHello <<name>>"
      expected_stderr: ""

    - name: "Use Variable"
      args: [ "[[var: GREETING(Alex)]]" ]
      return_code: 0
      expected_stdout: ""
      expected_stderr: ""
      expected_clipboard: "Hello Alex"

    - name: "Delete Variable"
      args: ["--delete", "GREETING"]
      return_code: 0
      expected_stdout: "variable 'GREETING' successfully deleted"
      expected_stderr: ""



- name: "Use Dynamic Variables"
  steps:
    - name: "Create Dynamic Variable"
      args: ["--set", "LOWERCASE", "Some lowercase text: [[lower: LOWER]]"]
      return_code: 0
      expected_stdout: ""
      expected_stderr: ""

    - name: "List Variables"
      args: ["--list"]
      return_code: 0
      expected_stdout: "LOWERCASE():\tSome lowercase text: [[lower: LOWER]]"
      expected_stderr: ""

    - name: "Get Variable"
      args: ["--get", "LOWERCASE"]
      return_code: 0
      expected_stdout: "LOWERCASE():\tSome lowercase text: [[lower: LOWER]]"
      expected_stderr: ""

    - name: "Use Variable"
      args: [ "[[var: LOWERCASE]]" ]
      return_code: 0
      expected_stdout: ""
      expected_stderr: ""
      expected_clipboard: "Some lowercase text: lower"

    - name: "Delete Variable"
      args: ["--delete", "LOWERCASE"]
      return_code: 0
      expected_stdout: "variable 'LOWERCASE' successfully deleted"
      expected_stderr: ""


- name: "Use Commands in Parameter"
  steps:
    - name: "Create Dynamic Variable"
      args: ["--set", "PASS_COMMAND(cmd)", "Command: cmd"]
      return_code: 0
      expected_stdout: ""
      expected_stderr: ""

    - name: "List Variables"
      args: ["--list"]
      return_code: 0
      expected_stdout: "PASS_COMMAND(cmd):\tCommand: cmd"
      expected_stderr: ""

    - name: "Get Variable"
      args: ["--get", "PASS_COMMAND"]
      return_code: 0
      expected_stdout: "PASS_COMMAND(cmd):\tCommand: cmd"
      expected_stderr: ""

    - name: "Use Variable"
      args: [ "[[var: PASS_COMMAND([[lower: COMMAND]])]]" ]
      return_code: 0
      expected_stdout: ""
      expected_stderr: ""
      expected_clipboard: "Command: command"

    - name: "Delete Variable"
      args: ["--delete", "PASS_COMMAND"]
      return_code: 0
      expected_stdout: "variable 'PASS_COMMAND' successfully deleted"
      expected_stderr: ""

